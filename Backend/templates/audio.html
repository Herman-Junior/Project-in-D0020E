{% extends "base.html" %}

{% block title %}Audio Recordings{% endblock %}

{% block head_links %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/audio-styles.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/query-styles.css') }}">
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='scripts/audio.js') }}" defer></script>
{% endblock %}

{% block content %}
<h1>Audio Files</h1>

<div class="upload-area-container">

    <div class="audio-list-container">
        {% if recordings %}
            {% for record in recordings %}
            <div class="container upload-box audio-item" 
                data-audio-id="{{ record.id }}" 
                data-filename="{{ record.filename }}"
                style="display: flex !important; flex-direction: row !important; align-items: center !important; gap: 20px; cursor: pointer; padding: 20px;">

                <div class="checkbox-container" style="display: flex; align-items: center;">
                    <input type="checkbox" class="delete-checkbox" data-id="{{ record.id }}" 
                        style="width: 20px; height: 20px; cursor: pointer;">
                </div>
                
                <div style="text-align: left; flex-grow: 1">
                    <h2 style="margin: 0;">{{ record.filename }}</h2>
                    <p style="color: var(--secondary-text-clr); margin-top: 5px;">
                        {{ record.date }} | {{ record.start_time }}
                    </p>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="container upload-box">
                <p class="status-message">No audio recordings found.</p>
            </div>
        {% endif %}
    </div>

    <div id="bulk-actions-container" class="container" style="display: none; margin-bottom: 10px;">
        <button id="delete-selected-btn" class="insert-btn" style="background-color: #00c8ff;">
            Delete selected (<span id="selected-count">0</span>)
        </button>
    </div>

    <div id="correlation-panel" class="container upload-box" style="display: none; margin-top: 30px;">
        <h2 id="selected-audio-title">Correlated Data</h2>
        <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 15px 0;">
        <div id="correlation-content"></div>
    </div>

</div>
{% endblock %}