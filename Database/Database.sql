CREATE DATABASE IF NOT EXISTS weather_Db;
USE weather_Db;

-- Audio table
CREATE TABLE audiorecording (
    id INT AUTO_INCREMENT PRIMARY KEY,
    `date` DATE,
    start_time DATETIME NOT NULL,
    end_time DATETIME NOT NULL,
    file_path TEXT NOT NULL
);

-- weather_data table
CREATE TABLE weather_data (
    id INT AUTO_INCREMENT PRIMARY KEY,
    `date` DATE,
    timestamp DATETIME NOT NULL,
    in_temperature DOUBLE,
    out_temperature DOUBLE,
    in_humidity DOUBLE,
    out_humidity DOUBLE,
    wind_speed DOUBLE,
    wind_direction TEXT,
    daily_rain DOUBLE,
    rain_rate DOUBLE
);

-- sensors table (humidity + temperature)
CREATE TABLE SENSOR_DATA (
    Moisture INT,
    TIMESTAMP DATETIME NOT NULL
);


-- Linking tables for relationships between Audio, Weather, and sensors
CREATE TABLE audioenv_link (
    audio_id INT,
    weather_id INT,
    sensors_id INT,
    Foreign Key (Audio_id) REFERENCES audiorecording(id),
    Foreign Key (weather_id) REFERENCES weather_data(id),
    Foreign Key (sensors_id) REFERENCES sensors(id)
);

-- Sample data
INSERT INTO audiorecording (`date`, start_time, end_time, file_path)
VALUES
('2023-10-01', '2023-10-01 12:00:00', '2023-10-01 12:05:00', '/recordings/audio2.wav'),
('2023-10-01', '2023-10-01 13:00:00', '2023-10-01 13:05:00', '/recordings/audio2.wav'),
('2023-10-01', '2023-10-01 14:00:00', '2023-10-01 14:05:00', '/recordings/audio3.wav');

INSERT INTO weather_data (`date`, timestamp, in_temperature, out_temperature, in_humidity, out_humidity, wind_speed, wind_direction, daily_rain, rain_rate)
VALUES
('2023-10-01', '2023-10-01 12:00:00', 22.5, 25.5, 45.0, 50.0, 5.0, 'N', 0.0, 0.0),
('2023-10-01', '2023-10-01 13:00:00', 23.0, 26.0, 44.0, 48.0, 6.0, 'NE', 0.1, 0.2),
('2023-10-01', '2023-10-01 14:00:00', 24.0, 27.5, 43.0, 47.0, 7.0, 'E', 0.3, 0.4);

INSERT INTO sensors (`date`, timestamp, temperature, humidity, quality)
VALUES
('2023-10-01', '2023-10-01 12:00:00', 25.5, 60.0, 'Good'),
('2023-10-01', '2023-10-01 13:00:00', 26.0, 58.0, 'Moderate'),
('2023-10-01', '2023-10-01 14:00:00', 27.5, 55.0, 'Good');

INSERT INTO audioenv_link (audio_id, weather_id, sensors_id)
VALUES (1, 1, 1);

INSERT INTO SENSOR_DATA (Moisture, `TIMESTAMP`)
VALUES
(8, FROM_UNIXTIME(1761831600)),
(9, FROM_UNIXTIME(1761831660)),
(11, FROM_UNIXTIME(1761831720)),
(9, FROM_UNIXTIME(1761831780)),
(10, FROM_UNIXTIME(1761831840)),
(11, FROM_UNIXTIME(1761831900)),
(12, FROM_UNIXTIME(1761831960)),
(9, FROM_UNIXTIME(1761832020)),
(8, FROM_UNIXTIME(1761832080)),
(8, FROM_UNIXTIME(1761832140)),
(12, FROM_UNIXTIME(1761832200)),
(8, FROM_UNIXTIME(1761832260)),
(11, FROM_UNIXTIME(1761832320)),
(9, FROM_UNIXTIME(1761832380)),
(10, FROM_UNIXTIME(1761832440)),
(12, FROM_UNIXTIME(1761832500)),
(12, FROM_UNIXTIME(1761832560)),
(11, FROM_UNIXTIME(1761832620)),
(12, FROM_UNIXTIME(1761832680)),
(8, FROM_UNIXTIME(1761832740)),
(10, FROM_UNIXTIME(1761832800)),
(9, FROM_UNIXTIME(1761832860)),
(12, FROM_UNIXTIME(1761832920)),
(10, FROM_UNIXTIME(1761832980)),
(9, FROM_UNIXTIME(1761833040)),
(11, FROM_UNIXTIME(1761833100)),
(10, FROM_UNIXTIME(1761833160)),
(12, FROM_UNIXTIME(1761833220)),
(8, FROM_UNIXTIME(1761833280)),
(11, FROM_UNIXTIME(1761833340)),
(9, FROM_UNIXTIME(1761833400)),
(11, FROM_UNIXTIME(1761833460)),
(11, FROM_UNIXTIME(1761833520)),
(10, FROM_UNIXTIME(1761833580)),
(8, FROM_UNIXTIME(1761833640)),
(9, FROM_UNIXTIME(1761833700)),
(9, FROM_UNIXTIME(1761833760)),
(11, FROM_UNIXTIME(1761833820)),
(10, FROM_UNIXTIME(1761833880)),
(10, FROM_UNIXTIME(1761833940)),
(10, FROM_UNIXTIME(1761834000)),
(9, FROM_UNIXTIME(1761834060)),
(12, FROM_UNIXTIME(1761834120)),
(11, FROM_UNIXTIME(1761834180)),
(12, FROM_UNIXTIME(1761834240)),
(11, FROM_UNIXTIME(1761834300)),
(12, FROM_UNIXTIME(1761834360)),
(11, FROM_UNIXTIME(1761834420)),
(9, FROM_UNIXTIME(1761834480)),
(10, FROM_UNIXTIME(1761834540)),
(12, FROM_UNIXTIME(1761834600)),
(10, FROM_UNIXTIME(1761834660)),
(10, FROM_UNIXTIME(1761834720)),
(12, FROM_UNIXTIME(1761834780)),
(8, FROM_UNIXTIME(1761834840)),
(10, FROM_UNIXTIME(1761834900)),
(8, FROM_UNIXTIME(1761834960)),
(9, FROM_UNIXTIME(1761835020)),
(8, FROM_UNIXTIME(1761835080)),
(12, FROM_UNIXTIME(1761835140)),
(11, FROM_UNIXTIME(1761835200)),
(11, FROM_UNIXTIME(1761835260)),
(12, FROM_UNIXTIME(1761835320)),
(9, FROM_UNIXTIME(1761835380)),
(11, FROM_UNIXTIME(1761835440)),
(9, FROM_UNIXTIME(1761835500)),
(10, FROM_UNIXTIME(1761835560)),
(9, FROM_UNIXTIME(1761835620)),
(8, FROM_UNIXTIME(1761835680)),
(11, FROM_UNIXTIME(1761835740)),
(8, FROM_UNIXTIME(1761835800)),
(10, FROM_UNIXTIME(1761835860)),
(8, FROM_UNIXTIME(1761835920)),
(9, FROM_UNIXTIME(1761835980)),
(11, FROM_UNIXTIME(1761836040)),
(12, FROM_UNIXTIME(1761836100)),
(12, FROM_UNIXTIME(1761836160)),
(10, FROM_UNIXTIME(1761836220)),
(9, FROM_UNIXTIME(1761836280)),
(12, FROM_UNIXTIME(1761836340)),
(8, FROM_UNIXTIME(1761836400)),
(10, FROM_UNIXTIME(1761836460)),
(9, FROM_UNIXTIME(1761836520)),
(10, FROM_UNIXTIME(1761836580)),
(12, FROM_UNIXTIME(1761836640)),
(9, FROM_UNIXTIME(1761836700)),
(9, FROM_UNIXTIME(1761836760)),
(10, FROM_UNIXTIME(1761836820)),
(8, FROM_UNIXTIME(1761836880)),
(12, FROM_UNIXTIME(1761836940)),
(9, FROM_UNIXTIME(1761837000)),
(12, FROM_UNIXTIME(1761837060)),
(11, FROM_UNIXTIME(1761837120)),
(12, FROM_UNIXTIME(1761837180)),
(12, FROM_UNIXTIME(1761837240)),
(11, FROM_UNIXTIME(1761837300)),
(8, FROM_UNIXTIME(1761837360)),
(12, FROM_UNIXTIME(1761837420)),
(9, FROM_UNIXTIME(1761837480)),
(11, FROM_UNIXTIME(1761837540)),
(9, FROM_UNIXTIME(1761837600)),
(10, FROM_UNIXTIME(1761837660)),
(8, FROM_UNIXTIME(1761837720)),
(10, FROM_UNIXTIME(1761837780)),
(12, FROM_UNIXTIME(1761837840)),
(9, FROM_UNIXTIME(1761837900)),
(8, FROM_UNIXTIME(1761837960)),
(8, FROM_UNIXTIME(1761838020)),
(10, FROM_UNIXTIME(1761838080)),
(10, FROM_UNIXTIME(1761838140)),
(9, FROM_UNIXTIME(1761838200)),
(12, FROM_UNIXTIME(1761838260)),
(9, FROM_UNIXTIME(1761838320)),
(11, FROM_UNIXTIME(1761838380)),
(12, FROM_UNIXTIME(1761838440)),
(10, FROM_UNIXTIME(1761838500)),
(10, FROM_UNIXTIME(1761838560)),
(10, FROM_UNIXTIME(1761838620)),
(9, FROM_UNIXTIME(1761838680)),
(8, FROM_UNIXTIME(1761838740)),
(12, FROM_UNIXTIME(1761838800)),
(10, FROM_UNIXTIME(1761838860)),
(12, FROM_UNIXTIME(1761838920)),
(11, FROM_UNIXTIME(1761838980)),
(9, FROM_UNIXTIME(1761839040)),
(9, FROM_UNIXTIME(1761839100)),
(9, FROM_UNIXTIME(1761839160)),
(8, FROM_UNIXTIME(1761839220)),
(12, FROM_UNIXTIME(1761839280)),
(12, FROM_UNIXTIME(1761839340)),
(12, FROM_UNIXTIME(1761839400)),
(9, FROM_UNIXTIME(1761839460)),
(9, FROM_UNIXTIME(1761839520)),
(8, FROM_UNIXTIME(1761839580)),
(8, FROM_UNIXTIME(1761839640)),
(11, FROM_UNIXTIME(1761839700)),
(9, FROM_UNIXTIME(1761839760)),
(8, FROM_UNIXTIME(1761839820)),
(12, FROM_UNIXTIME(1761839880)),
(8, FROM_UNIXTIME(1761839940)),
(10, FROM_UNIXTIME(1761840000)),
(8, FROM_UNIXTIME(1761840060)),
(10, FROM_UNIXTIME(1761840120)),
(8, FROM_UNIXTIME(1761840180)),
(10, FROM_UNIXTIME(1761840240)),
(10, FROM_UNIXTIME(1761840300)),
(12, FROM_UNIXTIME(1761840360)),
(8, FROM_UNIXTIME(1761840420)),
(9, FROM_UNIXTIME(1761840480)),
(8, FROM_UNIXTIME(1761840540)),
(11, FROM_UNIXTIME(1761840600)),
(9, FROM_UNIXTIME(1761840660)),
(9, FROM_UNIXTIME(1761840720)),
(9, FROM_UNIXTIME(1761840780)),
(9, FROM_UNIXTIME(1761840840)),
(11, FROM_UNIXTIME(1761840900)),
(12, FROM_UNIXTIME(1761840960)),
(11, FROM_UNIXTIME(1761841020)),
(9, FROM_UNIXTIME(1761841080)),
(8, FROM_UNIXTIME(1761841140)),
(8, FROM_UNIXTIME(1761841200)),
(9, FROM_UNIXTIME(1761841260)),
(12, FROM_UNIXTIME(1761841320)),
(12, FROM_UNIXTIME(1761841380)),
(12, FROM_UNIXTIME(1761841440)),
(12, FROM_UNIXTIME(1761841500)),
(12, FROM_UNIXTIME(1761841560)),
(8, FROM_UNIXTIME(1761841620)),
(11, FROM_UNIXTIME(1761841680)),
(8, FROM_UNIXTIME(1761841740)),
(12, FROM_UNIXTIME(1761841800)),
(12, FROM_UNIXTIME(1761841860)),
(8, FROM_UNIXTIME(1761841920)),
(10, FROM_UNIXTIME(1761841980)),
(10, FROM_UNIXTIME(1761842040)),
(11, FROM_UNIXTIME(1761842100)),
(11, FROM_UNIXTIME(1761842160)),
(9, FROM_UNIXTIME(1761842220)),
(9, FROM_UNIXTIME(1761842280)),
(11, FROM_UNIXTIME(1761842340));

