/* ------------------------------------------- */
/* --- 1. LAYOUT WRAPPER (HEADER SPACE) ---    */
/* ------------------------------------------- */

.query-layout-wrapper {
    display: flex;
    justify-content: space-between; 
    align-items: flex-start; /* Keeps the right-side button from dropping when filters open */
    padding: 20px;
    gap: 20px;
    margin-top: 60px; /* Increased space from page header */
    border: 1px solid var(--line-clr);
    border-radius: 1em;
}

/* LEFT COLUMN: Dropdown + Expanding Filters */
.left-controls {
    display: flex;
    flex-direction: column; 
    gap: 15px;
    flex-grow: 1;
}

/* TOP ROW: Select box + Filter Button */
.main-row {
    display: flex;
    flex-direction: row;
    align-items: flex-end; 
    gap: 15px;
}

/* RIGHT COLUMN: Load Button (Fixed at top) */
.right-controls {
    display: flex;
    align-items: flex-start;
    padding-top: 25px; /* Aligns button with the Select box baseline */
}

/* ------------------------------------------- */
/* --- 2. INPUTS & LABELS ---                  */
/* ------------------------------------------- */

.control-group {
    display: flex;
    flex-direction: column;
    min-width: 0;
    flex-grow: 0;
}

.control-label {
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--secondary-text-clr);
    font-weight: 500;
}

.control-input {
    padding: 10px;
    border: 1px solid var(--line-clr);
    border-radius: 0.5em;
    background-color: var(--hover-clr);
    color: var(--text-clr);
    font-family: inherit;
    font-size: 1em;
}

/* Fix for date icon visibility */
.control-input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

/* ------------------------------------------- */
/* --- 3. BUTTONS ---                          */
/* ------------------------------------------- */

#toggle-filters-btn {
    width: fit-content;
    padding: 0 15px;
    flex-grow: 0; 
    flex-shrink: 0;
    
    /* COOL GREY (Not Brown) */
    background-color: #2a2d3e !important; 
    color: var(--text-clr);
    border: 1px solid var(--line-clr);
    
    font-size: 0.9em;
    
    height: 42px; 
    margin: 0 !important;
}

#load-data-btn {
    /* Tell it to only be as wide as the text inside */
    width: fit-content; 
    padding: 0 20px;
    
    /* Ensure it doesn't try to grow to fill the row */
    flex-grow: 0; 
    flex-shrink: 0;
    
    /* Keep the height consistent with the dropdown */
    height: 42px; 
}

#toggle-filters-btn {
    background-color: #2a2d3e !important; /* Deep navy-grey */
    color: var(--text-clr);
    border: 1px solid var(--line-clr);
}

#toggle-filters-btn:hover {
    background-color: #383b52; /* Slightly lighter on hover */
}

#load-data-btn {
    min-width: 150px;
    padding: 0 25px;
    background-color: var(--accent-clr);
}

#load-data-btn:hover {
    background-color: #7b80ff;
}

.secondary-btn {
    background-color: #444;
}

/* ------------------------------------------- */
/* --- 4. FILTER OPTIONS (EXPANDABLE) ---      */
/* ------------------------------------------- */

#filter-options {
    display: none; /* Controlled by JS */
    flex-direction: row;
    flex-wrap: wrap;
    gap: 15px;
    padding: 15px;
    background-color: var(--hover-clr);
    border-radius: 8px;
    border: 1px solid var(--line-clr);
}

/* ------------------------------------------- */
/* --- 5. DATA TABLE STYLES ---                */
/* ------------------------------------------- */

.table-container {
    width: 100%;
    max-height: 70vh; 
    overflow-y: auto; 
    overflow-x: auto; 
    margin-top: 10px;
    border: 1px solid var(--line-clr); 
    border-radius: 1em; 
}

.data-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed; /* Keeps column widths consistent */
}

.data-table th, .data-table td {
    padding: 12px 15px;
    text-align: left;
}

/* Header Styling - Sticky to the top of the container */
.data-table thead th {
    background-color: var(--hover-clr); 
    color: var(--accent-clr); 
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.85em;
    position: sticky;
    top: 0;
    z-index: 10;
    border-bottom: 2px solid var(--accent-clr);
}

/* Row Styling & Zebra Striping */
.data-table tbody tr {
    border-bottom: 1px solid var(--line-clr);
}

.data-table tbody tr:nth-child(even) {
    background-color: var(--hover-clr); 
}

.data-table tbody tr:hover {
    background-color: #33364f;
}

/* Column Highlighting (Restored) */
.data-table td {
    color: var(--secondary-text-clr);
    font-size: 0.95em;
}

/* Highlight Date/Time columns (the first two columns after the checkbox) */
.data-table tr td:nth-child(2), 
.data-table tr td:nth-child(3) { 
    color: var(--text-clr); 
    font-weight: 600; 
}

/* Checkbox Column width */
.checkbox-col {
    width: 10px !important;   /* Reduced from 50px */
    padding-right: 0 !important;
    text-align: center;
}

/* 2. Remove the left padding from the column immediately following the checkbox */
.checkbox-col + th, 
.checkbox-col + td {
    padding-left: 5px !important; /* Tightens the gap to the Date column */
}

/* 3. Ensure the table doesn't force extra space */
.data-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed; 
}


/* ------------------------------------------- */
/* --- 6. STATUS MESSAGES ---                  */
/* ------------------------------------------- */

.loading, .info, .error {
    text-align: center;
    padding: 40px;
}

.error { color: #ff5e5e; font-weight: 600; }